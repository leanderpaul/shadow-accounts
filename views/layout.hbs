<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title }} - Shadow Accounts</title>
  {{!-- Loading fonts --}}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  
  {{!-- Loading styles --}}
  {{#each styles}}
    <link rel="stylesheet" href="/styles/{{ this }}.css">
  {{/each}}
  
  {{!-- Loading scripts --}}
  {{#each scripts}}
    {{#alias this}}
      <script src="/scripts/{{ this }}.js" async="true"></script>
    {{/alias}}
  {{/each}}
  <script>
    function errorField(selector, message) {
      $(selector).addClass('error');
      $(`${selector} .error`).html(message);
      $(`${selector} input`).one('input', () => $(selector).removeClass('error'));
      return false;
    }

    function toggleWithMask(selector, className, addClass = true) {
      $(selector).toggleClass(className);
      const hasClass = $(selector).hasClass(className);
      if (!hasClass && addClass) setTimeout(() => $(document).one('click', () => $(selector).addClass(className)), 10);
      else if (hasClass && !addClass) setTimeout(() => $(document).one('click', () => $(selector).removeClass(className)), 10);
    }

    function enableSelect(selector) {
      const options = $(`${selector} .select li`).toArray();
      const input = $(`${selector} input`);
      const value = $(`${selector} .select li[data-value="${input.data('value')}"]`).addClass('selected').text();
      input.val(value);

      $(`${selector} input`).off('click').on('click', () => toggleWithMask('#gender .select', 'open', false));
      $(`${selector} .select li`).off('click').on('click', function() {
        const value = $(this).text();
        input.data('value', $(this).data('value'));
        input.val(value);
        $(`${selector} .select li`).removeClass('selected');
        $(this).addClass('selected');
      });
    }
  </script>
</head>
<body>
  {{{ body }}}
</body>
</html>